os: linux
dist: focal
language: java
jdk: openjdk17
cache:
  directories:
    - "$HOME/.m2"
branches:
  only:
    - main
    - /^v\d+\.\d+(\.\d+)?(-\S*)?$/
addons:
  sonarcloud:
    organization: molgenis
    token:
      secure: KllHGH4ugHzXbcjNxmOdfxTflqgpYuMeFP95L2pLFn/nQq5p9CLbIiguN13Ha+J60/DAqcOG5wwMxso83B4+MVEQj+WPn/8X0Whn17oecVEABjV0h1Kw5+G7al5CtPWxL7Uv66xy/MW7mopoHMAPrm0t3S2V4vYWNprsCjKQu92dPk3L+OpyV7oZVDhrkxRvF4SsaWT65J5+z0gpsBp5rFYRIw51+aMFkSl3EUac2fVx4k6IO7P7Sw7gX0cC+3CKm2I1pdSfw1pXqPky79kByMtoJgc7ylcm8h7wOX6ZqLmC0FsG84IQ9xGnxeq9iqCV8RyHExJXQ9nPE2CM7SVJEJn4farDJmh2M1sbUNUHO7+GsQBvd33y9NLnBrJylWFq0Xnd3w0IpdBx8YVkTGSAwcB0ZA+c9QPthN5I3K/MK2iiP+JkgiB0sbO3qTM7bo3Cxkvnxilvx1J/lIaGK8db/klkv2B61zwSUOL/GP0cBv9EQTe+3gOS0Xs72YTpcCErWXIRu+QVjkGtNXPQlQKgcenl8qJRNXBGqwO3L0gjZpWp5U2oEcDbkuRx4pVuCcmNKI2/pj8t31l8INe5tC8xphEIpkqvX0rIYqUnMFcW7n4HsTnBlluafqwZCwypUIyIJAJNBwooQgOhWwKkgMEd2IxUSwMZwO7ZH849XorRSoQ=
script:
  - mvn clean install sonar:sonar -Pcoverage -Dsonar.projectKey=molgenis_vip-inheritance
deploy:
  provider: releases
  token:
    secure: Do0w19HF2wgrp84zWUQ+FWVzJWGiYEX+J9KunrYPKe4UXDO071AUJ3ZAw97r1nJTSVewPRuSwdWSqFQNkzt/tIfbO3LrMeD8gDzwSijC2ryJJzskIz2RxBpuzIOU5+Y5uH6srcB0rOgPLyeQqwCZ9MaImS7WbRKe1BCcFLKN7NX+zWvL7UadpQp4kc8Gtq5gDPD4+fgHBIYyYPVbSJCVoAuquxGEcw/5X/Kx0t6ep9pmllNeFqZNMHxvfgvh/1CrtYmXnVw+n+QbHbdnDMJQamKNl59RoZEuVndRvK1n91cm5vuIoIuMQ1C9/PdYPEkg9vY0sUZ7H7khWtiPFevbtJqcQVh3nxoZkeQzCL1ba4MEHVXDiR76FM++yCPtSWlzoXTS8g4ZmaG4VDUjNKvN0VB/BC0NoLhs7CiKlTKz/LYfpTisZAENo9T8/W2M5l1HguCivm5zZ3adjgtx8YWAX04DDlATlTtIc9KgWe1vXx3hUH+tWAZhT8UjbMF/n5ZrCWFmDngBLRT4RgMO4g58GnguWkP8iyt1EQBmhQc4AITTMD3fpK0ERyujGY2CgpSWwFUnwTNZ/kzbAvIhqOCT5or9Gpei5fk3JF6wPnb55slHGtnQfeIlKG3EgzaubaptRidpuCoOcMc+3F1W7+JSoUlYrpEL6vxtDa4D4oPDFQQ=
  file: target/genemap-mapper.jar
  prerelease: true
  on:
    tags: true
  edge: true # opt in to dpl v2
